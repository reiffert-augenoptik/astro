---
import HtmlRoot from '@components/HtmlRoot.astro';
import AppHeader from '@components/AppHeader.astro';
import AppContent from '@components/AppContent.astro';
import AppFooter from '@components/AppFooter.astro';

const { frontmatter }: { frontmatter: Frontmatter } = {
  frontmatter: {},
  ...Astro.props,
};
---

<HtmlRoot>
  <AppHeader />
  <AppContent align={frontmatter.align} width={frontmatter.width}>
    <slot />
  </AppContent>
  <AppFooter />
</HtmlRoot>

<script>
  // @ts-ignore
  import simpleParallax from 'simple-parallax-js/vanilla';

  // Wait for DOM to be ready
  document.addEventListener('DOMContentLoaded', () => {
    const images = document.querySelectorAll('.parallax img');
    if (images.length > 0) {
      new simpleParallax(images, {
        scale: 1.5,
      });
    }
  });
</script>
